<div class="auth-page">
  <div class="auth-card">

    <div class="auth-header">
      <h2>Entrar</h2>
      <p>Acesse seu painel de tickets.</p>
    </div>

    <div *ngIf="errorMsg" class="alert alert-danger">
      {{ errorMsg }}
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" novalidate>

      <div class="mb-3">
        <label class="form-label">Email</label>
        <input
          autofocus
          type="email"
          class="form-control"
          formControlName="email"
          placeholder="seuemail@exemplo.com"
        />
        <div class="invalid-msg" *ngIf="form.controls.email.touched && form.controls.email.invalid">
          Informe um email válido.
        </div>
      </div>

      <div class="mb-2">
        <label class="form-label">Senha</label>

        
        <div class="input-group">
          <input
          id="bt-senha"
            [type]="showPass ? 'text' : 'password'"
            class="form-control"
            formControlName="password"
            placeholder="Sua senha"
          />

          <button
            type="button"
            class="btn btn-outline-secondary btn-eye"
            (click)="togglePass()"
            aria-label="Mostrar ou ocultar senha"
          >
          
            
            <svg *ngIf="!showPass" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor"
                d="M12 5c5.5 0 9.6 4.1 11 7c-1.4 2.9-5.5 7-11 7S2.4 14.9 1 12c1.4-2.9 5.5-7 11-7zm0 2C7.8 7 4.4 10 3.2 12C4.4 14 7.8 17 12 17s7.6-3 8.8-5C19.6 10 16.2 7 12 7zm0 2.2A2.8 2.8 0 1 1 12 15a2.8 2.8 0 0 1 0-5.6z"/>
            </svg>

            <svg *ngIf="showPass" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor"
                d="M2.1 3.5 3.5 2.1l18.4 18.4-1.4 1.4-2.2-2.2c-1.7.8-3.7 1.3-6.3 1.3C6.5 21 2.4 16.9 1 14c.6-1.2 1.8-2.8 3.5-4.2L2.1 3.5zm6.2 6.2 1.7 1.7A2.8 2.8 0 0 0 12 15c.5 0 1-.1 1.4-.4l1.7 1.7c-.9.4-2 .7-3.1.7A4.8 4.8 0 0 1 7.2 12c0-.9.2-1.7.5-2.3zM12 7c5.5 0 9.6 4.1 11 7a17 17 0 0 1-3.3 4.4l-1.5-1.5c1.3-1.1 2.2-2.4 2.6-2.9-1.2-2-4.6-5-8.8-5-1.3 0-2.5.3-3.6.7L7 8.2C8.4 7.5 10 7 12 7z"/>
            </svg>
          </button>
        </div>

        <div class="invalid-msg" *ngIf="form.controls.password.touched && form.controls.password.invalid">
          A senha é obrigatória.
        </div>
      </div>


      <button class="btn btn-primary w-100" type="submit" [disabled]="loading || form.invalid">
        {{ loading ? 'Entrando…' : 'Entrar' }}
      </button>

      <div class="auth-footer">
        <span>Não tem conta?</span>
        <a routerLink="/auth/register">Cadastre-se</a>
      </div>


    </form>
  </div>
</div>
