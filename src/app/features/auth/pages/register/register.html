<div class="auth-card">
  <h2>Criar conta</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <label>Nome</label>
    <input type="text" formControlName="name" />
    <small class="hint" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
      Informe um nome válido.
    </small>

    <label>Email</label>
    <input type="email" formControlName="email" />
    <small class="hint" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
      Informe um email válido.
    </small>

    <label>Senha</label>
    <input type="password" formControlName="password" />
    <small class="hint" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
      Senha muito curta.
    </small>

    <label>Perfil</label>
    <select formControlName="role">
      <option value="CLIENT">Cliente</option>
      <option value="TECH">Técnico</option>
    </select>

    <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

    <button type="submit" [disabled]="loading || form.invalid">
      {{ loading ? 'Cadastrando...' : 'Cadastrar' }}
    </button>
  </form>

  <a routerLink="/auth/login">Já tenho conta</a>
</div>
